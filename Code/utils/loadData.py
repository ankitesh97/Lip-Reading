# def load_src(name, fpath):
#     import os, imp
#     return imp.load_source(name, os.path.join(os.path.dirname(__file__), fpath))
index_to_word = {1: 'IMMIGRATION', 2: 'FIGURES', 3: 'RECORD', 4: 'CHANGES', 5: 'SERVICES', 6: 'RESPONSE', 7: 'CLOUD', 8: 'FAMILIES', 9: 'ASKING', 10: 'FIRST', 11: 'PERHAPS', 12: 'CONFERENCE', 13: 'TIMES', 14: 'PARTS', 15: 'ACCUSED', 16: 'SECTOR', 17: 'INFLATION', 18: 'ALLOW', 19: 'DEBATE', 20: 'STARTED', 21: 'PERIOD', 22: 'LEAST', 23: 'MASSIVE', 24: 'NORTH', 25: 'NUMBERS', 26: 'PROTECT', 27: 'REPORT', 28: 'AHEAD', 29: 'COUNTRY', 30: 'MILLIONS', 31: 'BLACK', 32: 'COULD', 33: 'TALKS', 34: 'CLOSE', 35: 'ALREADY', 36: 'BANKS', 37: 'THINK', 38: 'EDITOR', 39: 'CHANGE', 40: 'PRESS', 41: 'CUSTOMERS', 42: 'WHOLE', 43: 'EVERYONE', 44: 'MIGRANTS', 45: 'LATER', 46: 'COURSE', 47: 'FRONT', 48: 'ALLEGATIONS', 49: 'LEADERSHIP', 50: 'RUSSIA', 51: 'HOSPITAL', 52: 'LEADER', 53: 'EUROPEAN', 54: 'SERIOUS', 55: 'ELECTION', 56: 'THROUGH', 57: 'MONEY', 58: 'THINGS', 59: 'INDEPENDENT', 60: 'ASKED', 61: 'TONIGHT', 62: 'OUTSIDE', 63: 'TEMPERATURES', 64: 'COUPLE', 65: 'FIGHTING', 66: 'CHILD', 67: 'FOCUS', 68: 'ORDER', 69: 'COMING', 70: 'FURTHER', 71: 'CHIEF', 72: 'USING', 73: 'ANYTHING', 74: 'SPEAKING', 75: 'ENERGY', 76: 'BENEFIT', 77: 'HAVING', 78: 'CHALLENGE', 79: 'SOUTH', 80: 'DEGREES', 81: 'SIDES', 82: 'RATES', 83: 'CONTROL', 84: 'JUSTICE', 85: 'STATEMENT', 86: 'AGAIN', 87: 'WANTED', 88: 'COMPANY', 89: 'YESTERDAY', 90: 'POSITION', 91: 'MEASURES', 92: 'TOMORROW', 93: 'WOMEN', 94: 'BETWEEN', 95: 'RUSSIAN', 96: 'SECURITY', 97: 'POWERS', 98: 'CONSERVATIVE', 99: 'BECAUSE', 100: 'HUMAN', 101: 'SENIOR', 102: 'GREAT', 103: 'MINISTER', 104: 'CAPITAL', 105: 'BUDGET', 106: 'PRISON', 107: 'DECISION', 108: 'THING', 109: 'SERVICE', 110: 'FORMER', 111: 'ISSUE', 112: 'NUMBER', 113: 'TRIAL', 114: 'SOMETHING', 115: 'GREECE', 116: 'UNDERSTAND', 117: 'SOCIETY', 118: 'STATE', 119: 'CAMERON', 120: 'WOULD', 121: 'PARTIES', 122: 'SHOULD', 123: 'ANSWER', 124: 'LATEST', 125: 'MURDER', 126: 'CONTINUE', 127: 'WALES', 128: 'EUROPE', 129: 'WEEKEND', 130: 'EARLY', 131: 'MILLION', 132: 'ARRESTED', 133: 'SUNDAY', 134: 'CLEAR', 135: 'THESE', 136: 'AUTHORITIES', 137: 'AFFECTED', 138: 'BEING', 139: 'INVESTMENT', 140: 'SENSE', 141: 'CONFLICT', 142: 'SCHOOLS', 143: 'CHILDREN', 144: 'GROUP', 145: 'ABOUT', 146: 'MARKET', 147: 'EXPECTED', 148: 'PARTY', 149: 'RECENT', 150: 'GENERAL', 151: 'WORST', 152: 'PAYING', 153: 'INCREASE', 154: 'EXAMPLE', 155: 'DETAILS', 156: 'PROVIDE', 157: 'NORTHERN', 158: 'AFTERNOON', 159: 'REMEMBER', 160: 'VIOLENCE', 161: 'SHORT', 162: 'GOING', 163: 'FINANCIAL', 164: 'CHINA', 165: 'THOUGHT', 166: 'PRESIDENT', 167: 'MEDIA', 168: 'HOUSE', 169: 'BORDER', 170: 'OFTEN', 171: 'STAND', 172: 'ACTUALLY', 173: 'LEVELS', 174: 'MEANS', 175: 'SPENDING', 176: 'WESTMINSTER', 177: 'WEEKS', 178: 'BRING', 179: 'COMES', 180: 'SAYING', 181: 'ECONOMIC', 182: 'THREE', 183: 'SCHOOL', 184: 'FINAL', 185: 'PEOPLE', 186: 'MAJOR', 187: 'BRITAIN', 188: 'POTENTIAL', 189: 'CHANCE', 190: 'THIRD', 191: 'ALWAYS', 192: 'SEVERAL', 193: 'JUDGE', 194: 'STAGE', 195: 'SPENT', 196: 'MIDDLE', 197: 'AGAINST', 198: 'HEARD', 199: 'WATER', 200: 'GEORGE', 201: 'INSIDE', 202: 'UNTIL', 203: 'SYRIAN', 204: 'TOWARDS', 205: 'SUNSHINE', 206: 'JAMES', 207: 'ALMOST', 208: 'TODAY', 209: 'THEMSELVES', 210: 'VICTIMS', 211: 'LOOKING', 212: 'ABSOLUTELY', 213: 'SPEECH', 214: 'WHERE', 215: 'BECOME', 216: 'AMERICAN', 217: 'MONTH', 218: 'PROBLEM', 219: 'AGREEMENT', 220: 'GAMES', 221: 'KILLED', 222: 'BROUGHT', 223: 'ATTACKS', 224: 'BUSINESS', 225: 'CONCERNS', 226: 'WATCHING', 227: 'CHARGE', 228: 'MEMBER', 229: 'OFFICERS', 230: 'QUESTIONS', 231: 'REFERENDUM', 232: 'VOTERS', 233: 'AMERICA', 234: 'MORNING', 235: 'DESCRIBED', 236: 'RIGHT', 237: 'RETURN', 238: 'ALLOWED', 239: 'CHARGES', 240: 'DIFFERENT', 241: 'COUNTRIES', 242: 'PERSON', 243: 'AFFAIRS', 244: 'BUILDING', 245: 'TRADE', 246: 'EXTRA', 247: 'RIGHTS', 248: 'POLITICIANS', 249: 'DIFFERENCE', 250: 'DESPITE', 251: 'WELCOME', 252: 'HAPPEN', 253: 'MAKES', 254: 'BELIEVE', 255: 'MIGHT', 256: 'BEHIND', 257: 'WARNING', 258: 'LONDON', 259: 'START', 260: 'OTHERS', 261: 'CAMPAIGN', 262: 'HISTORY', 263: 'LIVING', 264: 'DURING', 265: 'HUNDREDS', 266: 'LEVEL', 267: 'EVERYTHING', 268: 'UNITED', 269: 'WORDS', 270: 'GETTING', 271: 'UNDER', 272: 'FRIDAY', 273: 'FRENCH', 274: 'HOURS', 275: 'FORCE', 276: 'RULES', 277: 'INTEREST', 278: 'IRELAND', 279: 'WHILE', 280: 'PRICES', 281: 'CANNOT', 282: 'SYSTEM', 283: 'ANNOUNCED', 284: 'EVERYBODY', 285: 'ANOTHER', 286: 'MINUTES', 287: 'PATIENTS', 288: 'BILLION', 289: 'EXACTLY', 290: 'ENOUGH', 291: 'ATTACK', 292: 'ACTION', 293: 'LITTLE', 294: 'ACCORDING', 295: 'SPEND', 296: 'PLANS', 297: 'THERE', 298: 'POLITICS', 299: 'LOCAL', 300: 'MISSING', 301: 'POSSIBLE', 302: 'LARGE', 303: 'HAPPENING', 304: 'CERTAINLY', 305: 'OPPOSITION', 306: 'STORY', 307: 'LABOUR', 308: 'POLICY', 309: 'HEART', 310: 'HEALTH', 311: 'DEFICIT', 312: 'HEAVY', 313: 'POINT', 314: 'WANTS', 315: 'CENTRAL', 316: 'SINCE', 317: 'OPERATION', 318: 'COUNCIL', 319: 'REASON', 320: 'PROBABLY', 321: 'FRANCE', 322: 'SECOND', 323: 'CURRENT', 324: 'SINGLE', 325: 'TAKING', 326: 'FIGHT', 327: 'MAJORITY', 328: 'SECRETARY', 329: 'AFRICA', 330: 'DEATH', 331: 'BUSINESSES', 332: 'STAFF', 333: 'HOMES', 334: 'INDUSTRY', 335: 'KNOWN', 336: 'WINDS', 337: 'FOUND', 338: 'IMPACT', 339: 'SITUATION', 340: 'HIGHER', 341: 'GIVEN', 342: 'PHONE', 343: 'PARLIAMENT', 344: 'BENEFITS', 345: 'MOMENT', 346: 'LIVES', 347: 'GERMANY', 348: 'WITHOUT', 349: 'AREAS', 350: 'SCOTTISH', 351: 'WRONG', 352: 'TERMS', 353: 'BIGGEST', 354: 'EASTERN', 355: 'GROUND', 356: 'EVENTS', 357: 'REALLY', 358: 'WHICH', 359: 'WORKERS', 360: 'PERSONAL', 361: 'QUESTION', 362: 'REPORTS', 363: 'COMMUNITY', 364: 'COMPANIES', 365: 'PROCESS', 366: 'INQUIRY', 367: 'MEDICAL', 368: 'FUTURE', 369: 'WHETHER', 370: 'OBAMA', 371: 'SPECIAL', 372: 'OFFICE', 373: 'WORLD', 374: 'WAITING', 375: 'NATIONAL', 376: 'AFTER', 377: 'BRITISH', 378: 'FOLLOWING', 379: 'EVIDENCE', 380: 'THOSE', 381: 'ACCESS', 382: 'RATHER', 383: 'FAMILY', 384: 'CRIME', 385: 'NOTHING', 386: 'MATTER', 387: 'ACROSS', 388: 'PUBLIC', 389: 'SIGNIFICANT', 390: 'SUPPORT', 391: 'BETTER', 392: 'LONGER', 393: 'QUITE', 394: 'POLICE', 395: 'BUILD', 396: 'WITHIN', 397: 'DAVID', 398: 'EXPECT', 399: 'GIVING', 400: 'THREAT', 401: 'MEETING', 402: 'COURT', 403: 'SEVEN', 404: 'RESULT', 405: 'WELFARE', 406: 'DIFFICULT', 407: 'PROBLEMS', 408: 'EVERY', 409: 'GLOBAL', 410: 'EVENING', 411: 'FOOTBALL', 412: 'CANCER', 413: 'POWER', 414: 'TALKING', 415: 'EDUCATION', 416: 'AROUND', 417: 'LEGAL', 418: 'PLACES', 419: 'LIKELY', 420: 'GROWTH', 421: 'POLITICAL', 422: 'ITSELF', 423: 'SOCIAL', 424: 'ECONOMY', 425: 'ENGLAND', 426: 'PRESSURE', 427: 'SIMPLY', 428: 'FOREIGN', 429: 'PARENTS', 430: 'SOMEONE', 431: 'PRIME', 432: 'ISLAMIC', 433: 'GROWING', 434: 'MEMBERS', 435: 'TRYING', 436: 'TOGETHER', 437: 'SYRIA', 438: 'NIGHT', 439: 'EMERGENCY', 440: 'CASES', 441: 'CLAIMS', 442: 'NEVER', 443: 'MONTHS', 444: 'MINISTERS', 445: 'AMONG', 446: 'WESTERN', 447: 'LEAVE', 448: 'STRONG', 449: 'SMALL', 450: 'AGREE', 451: 'WORKING', 452: 'FORCES', 453: 'PLACE', 454: 'DECIDED', 455: 'YEARS', 456: 'WEAPONS', 457: 'HAPPENED', 458: 'FORWARD', 459: 'CALLED', 460: 'PRICE', 461: 'INFORMATION', 462: 'STREET', 463: 'MILITARY', 464: 'GUILTY', 465: 'SOUTHERN', 466: 'THOUSANDS', 467: 'AMOUNT', 468: 'NEEDS', 469: 'RUNNING', 470: 'STATES', 471: 'CRISIS', 472: 'TAKEN', 473: 'BEFORE', 474: 'ABUSE', 475: 'SERIES', 476: 'PRETTY', 477: 'FACING', 478: 'TRUST', 479: 'IMPORTANT', 480: 'ISSUES', 481: 'HOUSING', 482: 'PRIVATE', 483: 'THEIR', 484: 'MOVING', 485: 'MAYBE', 486: 'MAKING', 487: 'UNION', 488: 'YOUNG', 489: 'STILL', 490: 'SEEMS', 491: 'GOVERNMENT', 492: 'MANCHESTER', 493: 'LEADERS', 494: 'INVOLVED', 495: 'OTHER', 496: 'WEATHER', 497: 'MESSAGE', 498: 'SCOTLAND', 499: 'DOING', 500: 'OFFICIALS'}

word_to_index = {'EVERYONE': 43, 'WORKERS': 359, 'LATER': 45, 'SIMPLY': 427, 'COURT': 402, 'GROWING': 433, 'AMONG': 445, 'FORCE': 275, 'POWER': 413, 'SOCIETY': 117, 'THINGS': 58, 'FIGHTING': 65, 'ACTION': 292, 'CASES': 440, 'PRIME': 431, 'SAYING': 180, 'AFFECTED': 137, 'MEASURES': 91, 'PERIOD': 21, 'LEAST': 22, 'CURRENT': 323, 'ECONOMIC': 181, 'BUSINESSES': 331, 'BANKS': 36, 'CHILDREN': 143, 'PROCESS': 365, 'MONEY': 57, 'INDUSTRY': 334, 'FRANCE': 321, 'WATER': 199, 'PERSON': 242, 'CHARGE': 227, 'ASKING': 9, 'CLAIMS': 441, 'AREAS': 349, 'GREAT': 102, 'CAMPAIGN': 261, 'GETTING': 270, 'FRIDAY': 272, 'FOREIGN': 428, 'FIGURES': 2, 'BIGGEST': 353, 'MARKET': 146, 'LEADERS': 493, 'COMPANY': 88, 'CONSERVATIVE': 98, 'TALKING': 414, 'OFFICIALS': 500, 'POSITION': 90, 'SECURITY': 96, 'WEEKEND': 129, 'MEMBERS': 434, 'UNION': 487, 'STILL': 489, 'AFRICA': 329, 'MIDDLE': 196, 'RESULT': 404, 'UNDER': 271, 'INVESTMENT': 139, 'EXTRA': 246, 'GIVING': 399, 'SOCIAL': 423, 'SENIOR': 101, 'SIDES': 81, 'EXPECT': 398, 'MOMENT': 345, 'LEVELS': 173, 'MOVING': 484, 'MEETING': 401, 'HEART': 309, 'REMEMBER': 159, 'POINT': 313, 'DOING': 499, 'IMMIGRATION': 1, 'KILLED': 221, 'MEMBER': 228, 'HEARD': 198, 'ISLAMIC': 432, 'WEATHER': 496, 'WORDS': 269, 'KNOWN': 335, 'PRESIDENT': 166, 'AMERICA': 233, 'WOMEN': 93, 'DIFFERENT': 240, 'PARLIAMENT': 343, 'JUSTICE': 84, 'SCHOOLS': 142, 'WESTMINSTER': 176, 'CANNOT': 281, 'HAPPEN': 252, 'PLACES': 418, 'RIGHTS': 247, 'PERSONAL': 360, 'EARLY': 130, 'WRONG': 351, 'WESTERN': 446, 'MAKING': 486, 'VOTERS': 232, 'DAVID': 397, 'SINGLE': 324, 'UNDERSTAND': 116, 'WALES': 127, 'WEEKS': 177, 'TRYING': 435, 'VIOLENCE': 160, 'TOGETHER': 436, 'AMOUNT': 467, 'PRISON': 106, 'BECOME': 215, 'DIFFICULT': 406, 'NATIONAL': 375, 'LATEST': 124, 'HAPPENING': 303, 'WOULD': 120, 'ALMOST': 207, 'SUNSHINE': 205, 'SOUTHERN': 465, 'AGAINST': 197, 'MORNING': 234, 'OTHER': 495, 'PRICES': 280, 'FOUND': 337, 'WANTED': 87, 'TOMORROW': 92, 'ALREADY': 35, 'NORTHERN': 157, 'RUNNING': 469, 'HEALTH': 310, 'MESSAGE': 497, 'PEOPLE': 185, 'COUPLE': 64, 'SEEMS': 490, 'SPENT': 195, 'ITSELF': 422, 'DURING': 264, 'SPEND': 295, 'ECONOMY': 424, 'HEAVY': 312, 'CUSTOMERS': 41, 'EASTERN': 354, 'BRITAIN': 187, 'EVERY': 408, 'FRONT': 47, 'ANOTHER': 285, 'FAMILY': 383, 'COUNCIL': 318, 'ENERGY': 75, 'COMPANIES': 364, 'WAITING': 374, 'FURTHER': 70, 'ISSUE': 111, 'FIRST': 10, 'RETURN': 237, 'BECAUSE': 99, 'ENGLAND': 425, 'EMERGENCY': 439, 'DECISION': 107, 'MONTH': 217, 'PATIENTS': 287, 'SIGNIFICANT': 389, 'HOUSE': 168, 'TALKS': 33, 'AFTER': 376, 'BUSINESS': 224, 'GOVERNMENT': 491, 'CANCER': 412, 'COUNTRY': 29, 'MINISTERS': 444, 'MANCHESTER': 492, 'FOLLOWING': 378, 'SEVERAL': 192, 'FINAL': 184, 'ANNOUNCED': 283, 'CONFERENCE': 12, 'STRONG': 448, 'VICTIMS': 210, 'LONGER': 392, 'EXACTLY': 289, 'BROUGHT': 222, 'PHONE': 342, 'ACCUSED': 15, 'EDITOR': 38, 'PRESS': 40, 'SPECIAL': 371, 'AROUND': 416, 'THIRD': 190, 'MEDIA': 167, 'POSSIBLE': 301, 'WITHOUT': 348, 'DEGREES': 80, 'DETAILS': 155, 'ANYTHING': 73, 'AGREEMENT': 219, 'AMERICAN': 216, 'CONTINUE': 126, 'THROUGH': 56, 'FORCES': 452, 'HAPPENED': 457, 'EVERYBODY': 284, 'DESCRIBED': 235, 'WORKING': 451, 'SHORT': 161, 'SMALL': 449, 'POLITICS': 298, 'QUITE': 393, 'MIGHT': 255, 'FORMER': 110, 'HOSPITAL': 51, 'TRADE': 245, 'INCREASE': 153, 'CONCERNS': 225, 'WORLD': 373, 'BELIEVE': 254, 'HIGHER': 340, 'AFFAIRS': 243, 'PROTECT': 26, 'MURDER': 125, 'CENTRAL': 315, 'SINCE': 316, 'LOOKING': 211, 'DIFFERENCE': 249, 'LEAVE': 447, 'TOWARDS': 204, 'MAJORITY': 327, 'CHINA': 164, 'PARTIES': 121, 'RUSSIAN': 95, 'EUROPE': 128, 'HOUSING': 481, 'STATES': 470, 'TRIAL': 113, 'OUTSIDE': 62, 'BLACK': 31, 'GREECE': 115, 'IMPACT': 338, 'SOMEONE': 430, 'NORTH': 24, 'POLICE': 394, 'QUESTION': 361, 'PRIVATE': 482, 'QUESTIONS': 230, 'WELFARE': 405, 'CALLED': 459, 'CLOUD': 7, 'STORY': 306, 'LEGAL': 417, 'TIMES': 13, 'THING': 108, 'FORWARD': 458, 'SERIOUS': 54, 'SYRIAN': 203, 'THINK': 37, 'GROUND': 355, 'RIGHT': 236, 'ALLEGATIONS': 48, 'BEING': 138, 'ENOUGH': 290, 'NOTHING': 385, 'SPEAKING': 74, 'EUROPEAN': 53, 'ATTACKS': 223, 'THOUGHT': 165, 'LIKELY': 419, 'STREET': 462, 'PARENTS': 429, 'SOUTH': 79, 'MINUTES': 286, 'MILLION': 131, 'REFERENDUM': 231, 'GENERAL': 150, 'IMPORTANT': 479, 'PRETTY': 476, 'ALLOWED': 238, 'CERTAINLY': 304, 'LEVEL': 266, 'COULD': 32, 'PRESSURE': 426, 'CHIEF': 71, 'MILITARY': 463, 'WHERE': 214, 'GEORGE': 200, 'INDEPENDENT': 59, 'SCHOOL': 183, 'WELCOME': 251, 'SCOTLAND': 498, 'ACTUALLY': 172, 'ABUSE': 474, 'OBAMA': 370, 'DEATH': 330, 'GROUP': 144, 'HUNDREDS': 265, 'LARGE': 302, 'CHANGES': 4, 'REALLY': 357, 'PAYING': 152, 'MATTER': 386, 'STARTED': 20, 'WARNING': 257, 'HOMES': 333, 'AHEAD': 28, 'REASON': 319, 'INQUIRY': 366, 'IRELAND': 278, 'WHOLE': 42, 'UNTIL': 202, 'TODAY': 208, 'WANTS': 314, 'UNITED': 268, 'FINANCIAL': 163, 'TAKING': 325, 'GUILTY': 464, 'BUDGET': 105, 'PRICE': 460, 'SUNDAY': 133, 'STAFF': 332, 'BILLION': 288, 'OFFICE': 372, 'THESE': 135, 'GLOBAL': 409, 'SERIES': 475, 'INVOLVED': 494, 'SCOTTISH': 350, 'MAKES': 253, 'RECENT': 149, 'RATHER': 382, 'AGREE': 450, 'TONIGHT': 61, 'WORST': 151, 'ACROSS': 387, 'NEEDS': 468, 'ABSOLUTELY': 212, 'POLITICAL': 421, 'BRITISH': 377, 'YOUNG': 488, 'ANSWER': 123, 'SECOND': 322, 'BETWEEN': 94, 'EXAMPLE': 154, 'MAJOR': 186, 'YESTERDAY': 89, 'DECIDED': 454, 'THREAT': 400, 'DESPITE': 250, 'PROBABLY': 320, 'PUBLIC': 388, 'GIVEN': 341, 'NIGHT': 438, 'CRIME': 384, 'LONDON': 258, 'ELECTION': 55, 'SITUATION': 339, 'SECRETARY': 328, 'CONTROL': 83, 'LITTLE': 293, 'BENEFITS': 344, 'MEANS': 174, 'HOURS': 274, 'RECORD': 3, 'SPEECH': 213, 'INTEREST': 277, 'POLICY': 308, 'CONFLICT': 141, 'WATCHING': 226, 'MAYBE': 485, 'FOOTBALL': 411, 'ACCORDING': 294, 'POLITICIANS': 248, 'LEADERSHIP': 49, 'ALLOW': 18, 'CAPITAL': 104, 'CRISIS': 471, 'PLANS': 296, 'MISSING': 300, 'ALWAYS': 191, 'MONTHS': 443, 'FOCUS': 67, 'YEARS': 455, 'ACCESS': 381, 'GROWTH': 420, 'TRUST': 478, 'HAVING': 77, 'BUILD': 395, 'NEVER': 442, 'CHARGES': 239, 'WITHIN': 396, 'THREE': 182, 'ORDER': 68, 'TERMS': 352, 'OFFICERS': 229, 'FACING': 477, 'PERHAPS': 11, 'HUMAN': 100, 'THEMSELVES': 209, 'BEFORE': 473, 'EVENTS': 356, 'PROVIDE': 156, 'CLEAR': 134, 'PARTS': 14, 'MASSIVE': 23, 'WHICH': 358, 'TAKEN': 472, 'PARTY': 148, 'COMES': 179, 'WINDS': 336, 'LIVING': 263, 'INFLATION': 17, 'LIVES': 346, 'JUDGE': 193, 'THOSE': 380, 'ABOUT': 145, 'CHALLENGE': 78, 'FRENCH': 273, 'FIGHT': 326, 'CHANCE': 189, 'GOING': 162, 'GAMES': 220, 'STAND': 171, 'REPORT': 27, 'THOUSANDS': 466, 'ATTACK': 291, 'FUTURE': 368, 'SOMETHING': 114, 'CAMERON': 119, 'LEADER': 52, 'STAGE': 194, 'INFORMATION': 461, 'COURSE': 46, 'PLACE': 453, 'COMING': 69, 'SYRIA': 437, 'RESPONSE': 6, 'THEIR': 483, 'ARRESTED': 132, 'SENSE': 140, 'EDUCATION': 415, 'FAMILIES': 8, 'SERVICE': 109, 'JAMES': 206, 'PROBLEMS': 407, 'REPORTS': 362, 'WHILE': 279, 'RATES': 82, 'AFTERNOON': 158, 'SERVICES': 5, 'ISSUES': 480, 'BETTER': 391, 'SPENDING': 175, 'COMMUNITY': 363, 'DEBATE': 19, 'LABOUR': 307, 'GERMANY': 347, 'NUMBERS': 25, 'CLOSE': 34, 'MILLIONS': 30, 'SUPPORT': 390, 'AGAIN': 86, 'COUNTRIES': 241, 'AUTHORITIES': 136, 'EXPECTED': 147, 'EVENING': 410, 'DEFICIT': 311, 'STATEMENT': 85, 'OTHERS': 260, 'PROBLEM': 218, 'BORDER': 169, 'MIGRANTS': 44, 'SHOULD': 122, 'USING': 72, 'POWERS': 97, 'RUSSIA': 50, 'SECTOR': 16, 'WHETHER': 369, 'MEDICAL': 367, 'STATE': 118, 'NUMBER': 112, 'EVIDENCE': 379, 'BENEFIT': 76, 'MINISTER': 103, 'OPPOSITION': 305, 'CHANGE': 39, 'OFTEN': 170, 'RULES': 276, 'EVERYTHING': 267, 'BEHIND': 256, 'TEMPERATURES': 63, 'OPERATION': 317, 'THERE': 297, 'WEAPONS': 456, 'START': 259, 'POTENTIAL': 188, 'LOCAL': 299, 'ASKED': 60, 'HISTORY': 262, 'BUILDING': 244, 'SEVEN': 403, 'INSIDE': 201, 'SYSTEM': 282, 'BRING': 178, 'CHILD': 66}


import os
from Queue import Queue
import numpy as np
import cv2
# load_src("wordDict", "./wordDict.py")
# from wordDict import *
# word_to_index = {'ABOUT':0,'BANKS':1,'CONSERVATIVE':2,'DIFFERENCE':3,'ENERGY':4,'FAMILY':5,'GEORGE':6,'HAPPEN':7,'INDEPENDENT':8}
totalTrainFileName = Queue()

def loadDataQueue(COLORFLAG=0):
    SOURCE_DIRECTORY = '/home/ankitesh/preprocess/Data/modified/'
    COLOR_SOURCE_DIRECTORY = '/home/ankitesh/preprocess/Data/modified-color/'
    DIRECTORY=''
    if COLORFLAG==0:
        DIRECTORY = SOURCE_DIRECTORY
    else :
        DIRECTORY = COLOR_SOURCE_DIRECTORY
    fileArray = []
    for word in os.listdir(DIRECTORY):
        for fileName in os.listdir(DIRECTORY+word+'/train/'):
            if 'avi' in fileName:
                fileArray.append(DIRECTORY+word+'/train/'+fileName)
    np.random.shuffle(fileArray)
    for x in fileArray:
        totalTrainFileName.put(x)
    return len(fileArray)

def emptyDataQueue():
    for x in range(0,totalTrainFileName.qsize()):
        temp = totalTrainFileName.get()


def getNextBatch(batchSize,COLORFLAG=0):
    finalDataReturn = []
    finalNameReturn=[]
    if batchSize<=totalTrainFileName.qsize():
        forLoopRange = batchSize
    else:
        forLoopRange = totalTrainFileName.qsize()
    for x in range(forLoopRange):
        removedFromQueue = totalTrainFileName.get()
        finalNameReturn.append(word_to_index[removedFromQueue.split('_')[0].split('/')[-1]])
        cap = cv2.VideoCapture(removedFromQueue)
        temp=[]
        for x in range(0,29):
            ret,frame = cap.read()
            frame = np.swapaxes(frame, 0,1)
            if COLORFLAG==0:
                temp.append(frame[:,:,0])
            else:
                temp.append(frame[:,:,:])
        if COLORFLAG==0:
            temp2 = np.array(temp)
            temp3 = temp2.reshape(temp2.shape+(1,))
        else:
            temp3 = temp
        finalDataReturn.append(temp3)
    return np.array(np.swapaxes(finalDataReturn,0,1)),np.array(finalNameReturn)
